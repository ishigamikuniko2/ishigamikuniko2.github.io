!function(t,e){function i(t,e,i){return[parseFloat(t[0])*(f.test(t[0])?e/100:1),parseFloat(t[1])*(f.test(t[1])?i/100:1)]}function n(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,l=Math.max,a=Math.abs,r=Math.round,h=/left|center|right/,u=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,f=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(o!==e)return o;var i,n,s=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),l=s.children()[0];return t("body").append(s),i=l.offsetWidth,s.css("overflow","scroll"),n=l.offsetWidth,i===n&&(n=s[0].clientWidth),s.remove(),o=i-n},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),n=e.isWindow?"":e.element.css("overflow-y"),s="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:s?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return d.apply(this,arguments);e=t.extend({},e);var o,f,p,g,v,y,w=t(e.of),b=t.position.getWithinInfo(e.within),_=t.position.getScrollInfo(b),x=(e.collision||"flip").split(" "),T={};return y=s(w),w[0].preventDefault&&(e.at="left top"),f=y.width,p=y.height,g=y.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=h.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=h.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",t=c.exec(n[0]),i=c.exec(n[1]),T[this]=[t?t[0]:0,i?i[0]:0],e[this]=[m.exec(n[0])[0],m.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?v.left+=f:"center"===e.at[0]&&(v.left+=f/2),"bottom"===e.at[1]?v.top+=p:"center"===e.at[1]&&(v.top+=p/2),o=i(T.at,f,p),v.left+=o[0],v.top+=o[1],this.each(function(){var s,h,u=t(this),c=u.outerWidth(),m=u.outerHeight(),d=n(this,"marginLeft"),y=n(this,"marginTop"),W=c+d+n(this,"marginRight")+_.width,C=m+y+n(this,"marginBottom")+_.height,S=t.extend({},v),k=i(T.my,u.outerWidth(),u.outerHeight());"right"===e.my[0]?S.left-=c:"center"===e.my[0]&&(S.left-=c/2),"bottom"===e.my[1]?S.top-=m:"center"===e.my[1]&&(S.top-=m/2),S.left+=k[0],S.top+=k[1],t.support.offsetFractions||(S.left=r(S.left),S.top=r(S.top)),s={marginLeft:d,marginTop:y},t.each(["left","top"],function(i,n){t.ui.position[x[i]]&&t.ui.position[x[i]][n](S,{targetWidth:f,targetHeight:p,elemWidth:c,elemHeight:m,collisionPosition:s,collisionWidth:W,collisionHeight:C,offset:[o[0]+k[0],o[1]+k[1]],my:e.my,at:e.at,within:b,elem:u})}),e.using&&(h=function(t){var i=g.left-S.left,n=i+f-c,s=g.top-S.top,o=s+p-m,r={target:{element:w,left:g.left,top:g.top,width:f,height:p},element:{element:u,left:S.left,top:S.top,width:c,height:m},horizontal:0>n?"left":i>0?"right":"center",vertical:0>o?"top":s>0?"bottom":"middle"};c>f&&a(i+n)<f&&(r.horizontal="center"),m>p&&a(s+o)<p&&(r.vertical="middle"),l(a(i),a(n))>l(a(s),a(o))?r.important="horizontal":r.important="vertical",e.using.call(this,t,r)}),u.offset(t.extend(S,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,a=t.left-e.collisionPosition.marginLeft,r=s-a,h=a+e.collisionWidth-o-s;e.collisionWidth>o?r>0&&0>=h?(i=t.left+r+e.collisionWidth-o-s,t.left+=r-i):h>0&&0>=r?t.left=s:r>h?t.left=s+o-e.collisionWidth:t.left=s:r>0?t.left+=r:h>0?t.left-=h:t.left=l(t.left-a,t.left)},top:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,r=s-a,h=a+e.collisionHeight-o-s;e.collisionHeight>o?r>0&&0>=h?(i=t.top+r+e.collisionHeight-o-s,t.top+=r-i):h>0&&0>=r?t.top=s:r>h?t.top=s+o-e.collisionHeight:t.top=s:r>0?t.top+=r:h>0?t.top-=h:t.top=l(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,s=e.within,o=s.offset.left+s.scrollLeft,l=s.width,r=s.isWindow?s.scrollLeft:s.offset.left,h=t.left-e.collisionPosition.marginLeft,u=h-r,c=h+e.collisionWidth-l-r,m="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,d=-2*e.offset[0];0>u?(i=t.left+m+f+d+e.collisionWidth-l-o,(0>i||i<a(u))&&(t.left+=m+f+d)):c>0&&(n=t.left-e.collisionPosition.marginLeft+m+f+d-r,(n>0||a(n)<c)&&(t.left+=m+f+d))},top:function(t,e){var i,n,s=e.within,o=s.offset.top+s.scrollTop,l=s.height,r=s.isWindow?s.scrollTop:s.offset.top,h=t.top-e.collisionPosition.marginTop,u=h-r,c=h+e.collisionHeight-l-r,m="top"===e.my[1],f=m?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,d="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1];0>u?(n=t.top+f+d+p+e.collisionHeight-l-o,t.top+f+d+p>u&&(0>n||n<a(u))&&(t.top+=f+d+p)):c>0&&(i=t.top-e.collisionPosition.marginTop+f+d+p-r,t.top+f+d+p>c&&(i>0||a(i)<c)&&(t.top+=f+d+p))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,s,o,l=document.getElementsByTagName("body")[0],a=document.createElement("div");e=document.createElement(l?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},l&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)e.style[o]=n[o];e.appendChild(a),i=l||document.documentElement,i.insertBefore(e,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",s=t(a).offset().left,t.support.offsetFractions=s>10&&11>s,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t){t.widget("ui.watchinput",{lastVal:"",timer:null,_create:function(){var e=this;e.disable(!1),"unknown"!=typeof document.activeElement&&document.activeElement==this.element[0]&&setTimeout(t.proxy(e._focus,e),0)},disable:function(e){var i=this;e?(clearInterval(this.timer),this.element.unbind("blur",i._blur).unbind("focus",i._focus).unbind("keypress",i._keypress)):(this.lastVal=this.element.val(),this.element.bind("blur",t.proxy(i._blur,i)).bind("focus",t.proxy(i._focus,i)).bind("keypress",t.proxy(i._keypress,i)))},_keypress:function(t){t.keyCode>=112&&t.keyCode<=123||this._watchAndFire(t)},_blur:function(e){setTimeout(t.proxy(this._watchAndFire,this),0),clearInterval(this.timer)},_focus:function(e){var i=this;this.lastVal=this.element.val(),this.timer=setInterval(t.proxy(i._watchAndFire,i),200)},_watchAndFire:function(t){var e=this;return this.element.val()==this.lastVal?!1:(this.lastVal=this.element.val(),setTimeout(function(){e._trigger("input",t,{value:e.element.val()})},0),!0)}})}(jQuery),function(t,e){t.widget("ui.suggest",{options:{layerId:"suggestLayer",layerToggle:"",position:{my:"left top",at:"left bottom",collision:"none"},cookieDomain:"",cookieName:"",autofocus:!0,disabled:!1,maxLength:32},_create:function(){var e=this;doc=this.element[0].ownerDocument;var i=t.cookie(this.options.cookieName);this.options.disabled=i&&"unuse"==i?!0:!1,this.watch=new t.ui.watchinput,this.watch.options={input:function(t,i){e.options.disabled||e._input(t)}},this.watch.element=this.element,this.watch._create(),this.element.attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.suggest",function(i){var n=t.ui.keyCode;switch(i.keyCode){case n.PAGE_UP:case n.PAGE_DOWN:case n.LEFT:case n.RIGHT:break;case n.UP:e._move("previous",i);break;case n.DOWN:e._move("next",i);break;case n.ENTER:case n.NUMPAD_ENTER:e.menu.active?e._trigger("select",i,{item:e.menu.active.data("item.suggest")}):e._trigger("select",i,{item:{value:e.element.val(),term:e.term}}),i.stopPropagation();break;case n.ESCAPE:e.element.val(e.term),e.close(i)}}).bind("blur.suggest",function(t){clearTimeout(e.searching),e.closing=setTimeout(function(){e.close(t),e._change(t)},150)}).bind("mousedown.suggest",function(){e.element.val().length>0&&e.open()}),this._initSource(),this.response=function(){return e._response.apply(e,arguments)},this.menu=t("#"+this.options.layerId).mousedown(function(i){var n=e.menu.element[0];i.target===n&&setTimeout(function(){t(document).one("mousedown",function(i){i.target===e.element[0]||i.target===n||t.ui.contains(n,i.target)||e.close()})},1),setTimeout(function(){clearTimeout(e.closing)},13)}).suggestLayer({base:e.element.parent(),disabled:e.options.disabled,position:e.options.position,focus:function(t,i){var n=i.item.data("item.suggest");!1!==e._trigger("focus",null,{item:n})&&/^key/.test(t.originalEvent.type)&&(e.watch.disable(!0),e.element.val(n.value),e.watch.disable(!1))},selected:function(t,i){var n=i.item.data("item.suggest"),s=e.previous;e.element[0]!==doc.activeElement&&(e.element.focus(),e.previous=s),!1!==e._trigger("select",t,{item:n,term:e.term})&&(e.term=n.value,e.watch.disable(!0),e.element.val(n.value),e.watch.disable(!1)),e.close(t),e.selectedItem=n},blur:function(t,e){},enable:function(t,i){e._disable(!1,t)},disable:function(t,i){e._disable(!0,t)}}).zIndex(this.element.zIndex()+999).css({top:0,left:0}).hide().data("ui-suggestLayer");var n=t(e.options.layerToggle);n.mousedown(function(t){t.preventDefault(),e.menu.element.is(":visible")?e.close():e.open()}).click(function(t){t.preventDefault()}),this.options.autofocus&&e._setAutoFocus(),e._disable(e.options.disabled,null),t.fn.bgiframe&&this.menu.element.bgiframe()},_setAutoFocus:function(){t(document).keydown(t.proxy(function(e){var i=e.target,n={INPUT:1,TEXTAREA:1,SELECT:1,EMBED:1,OBJECT:1},s=t.ui.keyCode,o=e.keyCode,l=i.tagName?i.tagName.toUpperCase():"";if(!n[l]||e.ctrlKey&&86!==o){if(224==o||116==o||e.metaKey||o===s.BACKSPACE||o>=s.SPACE&&o<=s.DOWN||21!=o&&o<s.SPACE||e.altKey)return;o===s.SPACE&&e.shiftKey?(window.scrollTo(0,0),this.element.focus(),this.element.select(),e.preventDefault()):i!=this.element[0]&&(window.scrollTo(0,0),this.element.focus(),this.element.select(),this._input(e))}},this))},_input:function(t){var e=this;clearTimeout(e.searching),e.searching=setTimeout(function(){e.term!=e.element.val()&&(e.selectedItem=null,e.search(null,t))},e.options.delay)},_disable:function(e,i){t.cookie(this.options.cookieName,e?"unuse":"use",{expires:new Date((new Date).getTime()+189216e7),domain:this.options.domain}),this.options.disabled=e,this.element.attr("autocomplete",e?"on":"off"),!e&&i&&this.search(null,i)},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,s){n.xhr&&n.xhr.abort(),n.xhr=t.getJSON(i,e,function(t,e,i){i===n.xhr&&s(t),n.xhr=null})}):this.source=this.options.source},search:function(t,e){return t=null!=t?t:this.element.val(),this.term=this.element.val(),t.lengt_triggerh<this.options.minLength?this.close(e):(clearTimeout(this.closing),this._trigger("search")!==!1?this._search(t):void 0)},_search:function(t){this.element.addClass("ui-autocomplete-loading"),this.source({term:t},this.response)},_response:function(t){t.length?(t=this._normalize(t),this._suggest(t),this._trigger("open")):(this.menu.ul.empty(),this.menu.deactivate(),this.menu.refresh(),0==this.element.val().length&&this.menu.element.is(":visible")?this.close():this.menu.show()),this.element.removeClass("ui-autocomplete-loading")},close:function(t){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.hide(),this._trigger("close",t))},_change:function(t){this.previous!==this.element.val()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(t){return"string"==typeof t?{label:t,value:t}:{label:t[5],value:t[5],name:t[5],isMatch:"1"==t[6],id:t[2],count:t[3],officialFlag:"1"==t[4]?!0:!1}})},_suggest:function(t){var e=this.menu.ul.empty().zIndex(this.element.zIndex()+1);this._renderMenu(e,t),this.menu.deactivate(),this.menu.refresh(),this.open()},open:function(){this.menu.show();var e=this.menu.ul;menuWidth=e.width("").outerWidth(),textWidth=t(this.options.layerSize).outerWidth(),e.outerWidth(Math.max(menuWidth,textWidth))},_renderMenu:function(e,i){var n=this;(i.length>1||1===i.length&&!i[0].isMatch)&&t.each(i,function(t,i){n._renderItem(e,i)});var s=t('<li class="searchKeyword"><a title data-na="NC:searchword" href="" tabindex="-1"><em></em>で検索</a></li>');s.data("item.suggest",{value:n.element.val(),term:n.element.val()}).find("EM").text(n.element.val()),e.append(s)},_renderItem:function(e,i){var n=nj.cutStringByte(i.label,this.option("maxLength"),"…"),s='<span class="mdSuggest01Txt"></span>';return t("<li></li>").data("item.suggest",i).append('<a title="'+i.label+'" href="#">'+s+"</a>").find("SPAN.mdSuggest01Txt").text(n).end().appendTo(e)},_move:function(t,e){if(!this.menu.ul.is(":empty")){if(!this.menu.element.is(":visible"))return void(/^next/.test(t)&&this.search(null,e));if(!this.menu.last()||!/^next/.test(t))return this.menu.first()&&/^previous/.test(t)?(this.element.val(this.term),void this.close()):void this.menu[t](e)}}})}(jQuery),function(t){t.widget("ui.suggestLayer",{options:{base:null,inner:"suggestDtl",listbox:"_resultBox1",messagebox1:"guideText",messagebox2:"guideText2",on:"suggestOn",off:"suggestOff",position:{my:"left top",at:"left bottom",collision:"none"},disabled:!1},_create:function(){var e=this;t("."+this.options.on,this.element).click(function(t){t.preventDefault(),t.stopPropagation(),e.options.disabled=!1,e._status(),e._trigger("enable",t,{})}),t("."+this.options.off,this.element).click(function(t){t.preventDefault(),t.stopPropagation(),e.options.disabled=!0,e._status(),e._trigger("disable",t,{})}),this.detail=t("."+this.options.inner,this.element),this.ul=t("."+this.options.listbox,this.element),this.ul.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(i){t(i.target).closest(".ui-menu-item a").length&&(i.preventDefault(),e.select(i))}),this.refresh(),t(window).resize(t.proxy(e._setPosition,e))},refresh:function(){var e=this,i=this.ul.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").attr("data-na","NC:suggesttopic");i.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(i){e.activate(i,t(this).parent())}).mouseleave(function(){e.deactivate()}),this._status()},activate:function(t,e){if(this.deactivate(),this.hasScroll()){var i=e.offset().top-this.element.offset().top,n=this.element.attr("scrollTop"),s=this.element.height();0>i?this.element.attr("scrollTop",n+i):i>=s&&this.element.attr("scrollTop",n+i-s+e.height())}this.active=e.eq(0).children("a").addClass("ui-state-hover").addClass("selected").attr("id","ui-active-menuitem").end(),this._trigger("focus",t,{item:e})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeClass("selected").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(t){this.move("next",".ui-menu-item:first",t)},previous:function(t){this.move("prev",".ui-menu-item:last",t)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(t,e,i){if(!this.active)return void this.activate(i,this.ul.children(e));var n=this.active[t+"All"](".ui-menu-item").eq(0);n.length?this.activate(i,n):this.activate(i,this.ul.children(e))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(t){this._trigger("selected",t,{item:this.active})},show:function(){this.element.show(),this._status(),this._setPosition()},hide:function(){this.element.hide(),this.deactivate()},_setPosition:function(){this.element.is(":visible")&&this.element.position(t.extend({of:this.options.base},this.options.position))},_status:function(){return this.options.disabled?void this.detail.removeClass("list").addClass("disable"):(this.detail.removeClass("disable"),void this.detail[this.ul.is(":empty")?"removeClass":"addClass"]("list"))}})}(jQuery),function(t,e){t.widget("ui.njSuggest",t.ui.suggest,{options:{plusWidth:0},_create:function(){var e='<!-- Suggest Layer --><div id="smartSearchLayer" data-na="NA:suggest" class="suggestLayer MdSuggest01" style="display:none"><!--NA:suggest--><div class="suggestDtl list"><ul class="_resultBox1"></ul></div><!-- / .MdSuggest01 --></div>';t("body").append(e);var i=new t.ui.suggest;this._create=i._create,this._create(),this._setDisplay()},_setDisplay:function(){this.element.focus(t.proxy(function(t){this.element.parent().parent().addClass("ExSelected")},this)).focusout(t.proxy(function(t){this.element.val().length<1&&this.element.parent().parent().removeClass("ExSelected")},this))},open:function(){var e=this.menu.ul;e.children().length>0&&this.menu.show();var i=this.element.parent().parent(),n=i.outerHeight()+i.offset().top-1,s=i.outerWidth()+this.option("plusWidth")-1;t(this.menu.element).css({top:n,width:s,left:i.offset().left})}})}(jQuery),nj.getPackage("nj.matome.suggest",function(){var t={issuggest:!0,params:{official:"1"}};return{options:{},init:function(e){var i=$.extend(this.options,t,e);i.issuggest&&this._initSuggest(i.params),$("#searchForm").submit(function(t){return!1})},_initSuggest:function(t){var e=this,i=5;$("#q").njSuggest({layerId:"smartSearchLayer",layerToggle:".mdHeadSearch01Btn02",layerSize:".mdHeadSearch01InputInner",cookieDomain:"naver.jp",cookieName:"NaverSuggestUse",autofocus:!1,plusWidth:$("#searchForm").find("input[type=button]").width()+2,source:function(n,s){var o={q:fnMatome.trim(n.term,!0)};$.extend(!0,o,t),$.ajax({url:e.options.Url+"/ac",dataType:"jsonp",jsonp:"_callback",data:o,success:function(t){var e=t.items;if(e[0].length<1)s([]),$("#smartSearchLayer").hide();else{_data=[];var n=[];n=e[0].concat(e[1]).slice(0,i),$.each(n,function(t,e){if("undefined"!=typeof e&&e){if(t>=i||!e[0])return;var n=e[1].split("{naver}");_data.push([$.trim(e[0]).replace("$","$$"),n[0],n[1],n[2],n[3],n[4],n[5]])}}),s(_data)}}})},select:function(t,i){$("#q").val(i.item.value),t.stopPropagation();var n=fnMatome.trim(i.item.value,!0);return e._search(n),!1}});$("INPUT.mdHeadSearch01Btn01").click(function(t){var e=fnMatome.trim($("#q").val(),!0);return""!==e?window.location.href="/search?q="+encodeURIComponent(e):window.location.href=getNullQueryReferencePage(),!1}),$(document).bind("click.matome_suggest",function(t){var e=!1;$.each(["mdHeadSearch01Btn02","guideText02","mdHeadSearch01InputTxt"],function(){e=$(t.target).hasClass(this)||e}),e||$("#smartSearchLayer").hide()})},_search:function(t){""===t?window.location.href=getNullQueryReferencePage():window.location.href="/search?q="+encodeURIComponent(t)}}}());